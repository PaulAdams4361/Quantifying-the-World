---
title: "Real-Time Indoor Location Positioning"
author: "paula@smu, J-Dog, Miller"
date: January 12, 2018
abstract: |
  The expected content of a case study for classwork is described.
  An alternative content is proposedand described.
  Both a formal written document (such as written here) or
  a Jupyter Notebook with appropriate content may be presented
lang: en-US
class: man
# figsintext: true
numbersections: true
encoding: UTF-8
bibliography: references.bib
biblio-style: apalike
output:
  bookdown::pdf_document2:
     citation_package: natbib
     keep_tex: true
     toc: false
header-includes:
   - \usepackage{amsmath}
   - \usepackage[utf8]{inputenc}
   - \usepackage[T1]{fontenc}
   - \usepackage{setspace}
   - \usepackage{hyperref}
   - \onehalfspacing
   - \setcitestyle{numbers,square,super}
   - \newcommand\numberthis{\addtocounter{equation}{1}\tag{\theequation}}
editor_options: 
  chunk_output_type: console
---

```{r, lib-read, results='hide', message=FALSE, include=FALSE, echo=FALSE}
# libraries
library(tidyverse)
library(reshape2)
source('./functions.R')

# set a random seed for repodicibility
set.seed(42)


# load the data
offline <- readData()
online <- readData(filename = './online.data.txt',
                   subMacs = unique(offline$mac))

macAddresses <- sort(unique(offline$mac))

# create a unique position identifier
offline$posXY <- paste(offline$posX, offline$posY, sep = '-')
online$posXY <- paste(online$posX, online$posY, sep = '-')




```

# Introduction


Define

* AP
* MAC
* scan MAC

# Methods

## Data 

The data are provided as measurement logs with
 measurement position, measurement orientation, AP signal strength, and timestamp on a single line.
We extracted the data by reading each line and tokenizing each unit of information.
The data was initially organized in a long format data frame with
 time, position X, Y, and Z, orientation, AP MAC address, signal strength, and channel as the columns.
Once the data was organized, we were able to determine that several columns were not necessary.
Specifically, we removed position Z and the scan MAC address because these were fixed throughout the experiment
 and channel because each AP used a single channel throughout the experiment.
We also found that several MAC addresses were coded as \textit{adhoc} (type=1).
These were removed since we are only interested in positioning based on the fixed APs (type=3).
Additionally, we determined that there some noise present in the orientation measurement.
The experiment specified that only 8 angles were considered (each 45\textdegree increment from 0).
All orientation values were rouned to the nearest 45\textdegree increment.

 
```{r, echo=FALSE}
offline_pivot <- offline %>% spread('mac', 'signal')
```


## What modeling method you used

model description (stuart)

```{r, echo=FALSE}

```


## Describe how you estimated your error and found the best fit ASSUMING you CANNOT USE THE ONLINE DATA.

kold cross validation (paul)



# Results

Use a table to describe the results (markdown table)

## Describe the best fit for the data.

I think this is just k, plots that show error over k (1-15)

There are 2 macIDs located at the same position.  
Does one give better performance than the other?
(00:0f:a3:39:e1:c0, 00:0f:a3:39:dd:cd)


## What about using them both?

Use c0, then use cd, than use cd and c0

a plot with all three models

# Conclusion

## What is the drawback (if any of using this method to real-time locate an object)?

KNN is slow. calculation scales as n^2/2. Considers the whole dataset.

Describe a method that may be an improvement based on your perceived drawbacks.

Linear regression, assuming the assumptions are met

* Variance of the residuals is constant
* Normally distributed residuals
* No outlier + leverage points

\newpage

\appendix

# Code


```
A code block
cool
cool
code
yo
```


